'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.plugin = exports.eventType = undefined;

var _logFromKeys = require('../util/logFromKeys');

var _logFromKeys2 = _interopRequireDefault(_logFromKeys);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var type = 'apiGateway';

function eventType(event) {
  if (typeof event === 'object') {
    return ['path', 'headers', 'requestContext', 'resource', 'httpMethod'].every(function (s) {
      return s in event;
    }) ? type : false;
  }
  return false;
}

var keys = ['httpMethod', 'path', 'requestContext.accountId', 'requestContext.httpMethod', 'requestContext.identity.userAgent', 'requestContext.requestId', 'requestContext.resourcePath', 'requestContext.stage', 'resource'];

function plugin(event, log) {
  (0, _logFromKeys2.default)({ event, type, keys, log });
}

exports.eventType = eventType;
exports.plugin = plugin;